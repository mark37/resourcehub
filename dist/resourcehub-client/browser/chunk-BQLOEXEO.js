import{a as O}from"./chunk-JD5J2SHZ.js";import{f as E,j as P,x as j}from"./chunk-WBDN5LS2.js";import{a as H}from"./chunk-E4IS3X2R.js";import{Ba as y,Ca as S,Da as k,E as v,Fa as D,Fb as z,Ib as W,K as d,L as p,P as w,Ua as I,Vb as B,X as r,Xa as V,Y as g,Za as M,aa as x,bc as N,ca as a,cc as q,fa as b,fb as T,ja as l,jb as A,ka as o,la as m,ma as u,na as _,nb as F,oa as s,va as c,xa as h,yb as L}from"./chunk-WRVIYC7E.js";function X(i,f){if(i&1){let t=u();l(0,"div")(1,"button",12),_("click",function(){d(t);let e=s();return p(e.closeModal())}),m(2,"fa-icon",13),c(3," Back "),o()()}if(i&2){let t=s();r(2),a("icon",t.faArrowLeft)}}function Y(i,f){if(i&1){let t=u();l(0,"div",14)(1,"quill-editor",15),k("ngModelChange",function(e){d(t);let C=s();return S(C.selected_posting.description,e)||(C.selected_posting.description=e),p(e)}),o()()}if(i&2){let t=s();r(),y("ngModel",t.selected_posting.description),a("modules",t.editorConfig)}}function Q(i,f){if(i&1){let t=u();l(0,"div",16)(1,"div",17),c(2),m(3,"br"),c(4),o(),l(5,"div",18)(6,"button",19),_("click",function(){d(t);let e=s();return p(e.toggleConfirmation())}),c(7," Cancel "),o(),l(8,"button",20),_("click",function(){d(t);let e=s();return p(e.onSubmit(!0))}),c(9," Apply "),o()()()}if(i&2){let t=s();r(2),h(" You are applying to ",t.selected_posting.title,". "),r(2),h(" Are you sure you want to apply to this ",t.selected_posting.lib_posting_category_id==="1"?"job":"scholarship"," posting? ")}}function R(i,f){if(i&1){let t=u();l(0,"div",21)(1,"div",22),m(2,"fa-icon",13)(3,"br"),o(),l(4,"div",23),c(5," Application Submitted! "),o(),l(6,"div",24),c(7," We've received your application and will be processed. Expect an update via SMS within 3-5 business days. Please check your registered email for more details upon receiving the text. Thank You! "),o(),l(8,"div",17)(9,"button",25),_("click",function(){d(t);let e=s();return p(e.closeModal())}),c(10," Back "),o()()()}if(i&2){let t=s();r(2),a("icon",t.faCircleCheck)}}function G(i,f){if(i&1){let t=u();l(0,"button",20),_("click",function(){d(t);let e=s(2);return p(e.toggleConfirmation())}),m(1,"fa-icon",13),c(2," Apply now "),o()}if(i&2){let t=s(2);r(),a("icon",t.faFileLines)}}function J(i,f){}function K(i,f){if(i&1){let t=u();l(0,"button",29),_("click",function(){d(t);let e=s(3);return p(e.onSubmit())}),m(1,"fa-icon",13),c(2," Save post "),o()}if(i&2){let t=s(3);r(),a("icon",t.faSave)}}function U(i,f){if(i&1){let t=u();x(0,K,3,1,"button",28),l(1,"button",20),_("click",function(){d(t);let e=s(2);return p(e.isAuthenticated?e.toggleConfirmation():e.navigateTo())}),m(2,"fa-icon",13),c(3," Apply now "),o()}if(i&2){let t=s(2);a("ngIf",t.isAuthenticated),r(2),a("icon",t.faFileLines)}}function Z(i,f){if(i&1&&(l(0,"div",26),x(1,G,3,1,"button",27)(2,J,0,0)(3,U,4,2),o()),i&2){let t=s();r(),b(t.selected_posting.applicants&&t.selected_posting.applicants.length>0&&!t.selected_posting.applicants[0].is_applied?1:t.selected_posting.applicants&&t.selected_posting.applicants.length>0&&t.selected_posting.applicants[0].is_applied===1?2:3)}}var _t=(()=>{class i{navigateTo(){this.router.navigate(["login"])}toggleConfirmation(){this.showConfirmation=!this.showConfirmation}onSubmit(t){let n={};n.posting_id=this.selected_posting.id,t&&(n.is_applied=1,n.date_applied=I(new Date,"yyyy-MM-dd","en","Asia/manila")),this.http.post("posting-application",n).subscribe({next:()=>{this.showConfirmation=!1,t&&(this.showSuccessfullApplication=!0)},error:e=>console.log(e)})}closeModal(){this.toggleModal.emit()}constructor(t,n,e){this.http=t,this.sanitizer=n,this.router=e,this.toggleModal=new w,this.faSave=z,this.faFileLines=F,this.faArrowLeft=W,this.faXmark=B,this.faCircleCheck=L,this.htmlContent=null,this.showConfirmation=!1,this.showSuccessfullApplication=!1,this.editorConfig={toolbar:[]}}ngOnInit(){this.isAuthenticated=!!localStorage.getItem("access_token"),console.log(this.selected_posting),this.htmlContent=this.sanitizer.bypassSecurityTrustHtml(this.selected_posting.description)}static{this.\u0275fac=function(n){return new(n||i)(g(H),g(T),g(A))}}static{this.\u0275cmp=v({type:i,selectors:[["app-post-details"]],inputs:{selected_posting:"selected_posting",isAuthenticated:"isAuthenticated"},outputs:{toggleModal:"toggleModal"},standalone:!0,features:[D],decls:14,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","py-3","px-5","text-blue-600"],[4,"ngIf"],[1,"my-2","md:text-2xl","font-bold","text-gray-800"],[1,"overflow-y-auto","min-h-[300px]","max-h-[620px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100","px-5","pb-5","flex","flex-col","md:flex-row"],["class","w-full",4,"ngIf"],["class","flex flex-col w-full my-auto",4,"ngIf"],["class","flex flex-col w-2/5 mx-auto",4,"ngIf"],["class","flex justify-center py-2 px-5 space-x-4 rounded-b border-t border-gray-200",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"mt-3",3,"click"],[3,"icon"],[1,"w-full"],["disabled","",1,"h-96","w-full","rounded","hover:cursor-default",3,"ngModelChange","ngModel","modules"],[1,"flex","flex-col","w-full","my-auto"],[1,"flex","justify-center"],[1,"flex","justify-center","mt-5"],[1,"btn-blue","bg-gray-400","mr-3",3,"click"],[1,"btn-blue",3,"click"],[1,"flex","flex-col","w-2/5","mx-auto"],[1,"flex","justify-center","text-blue-500","text-4xl"],[1,"flex","justify-center","text-xl","text-blue-600","font-semibold"],[1,"flex","justify-center","text-justify","text-sm","my-5"],[1,"btn-blue-nr","w-full",3,"click"],[1,"flex","justify-center","py-2","px-5","space-x-4","rounded-b","border-t","border-gray-200"],[1,"btn-blue"],["class","btn-blue bg-orange-500",3,"click",4,"ngIf"],[1,"btn-blue","bg-orange-500",3,"click"]],template:function(n,e){n&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),x(4,X,4,1,"div",4),l(5,"h3",5),c(6),o(),m(7,"div"),o(),l(8,"div",6),x(9,Y,2,2,"div",7)(10,Q,10,2,"div",8)(11,R,11,1,"div",9),o(),x(12,Z,4,1,"div",10),o()()(),m(13,"div",11)),n&2&&(r(4),a("ngIf",!e.showConfirmation),r(2),h(" ",e.selected_posting.title," "),r(3),a("ngIf",!e.showConfirmation&&!e.showSuccessfullApplication),r(),a("ngIf",e.showConfirmation&&!e.showSuccessfullApplication),r(),a("ngIf",e.showSuccessfullApplication&&!e.showConfirmation),r(),a("ngIf",!e.showConfirmation&&!e.showSuccessfullApplication))},dependencies:[M,V,j,E,P,q,N,O]})}}return i})();export{_t as a};
