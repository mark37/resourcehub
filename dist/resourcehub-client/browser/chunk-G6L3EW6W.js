import{a as T}from"./chunk-H4D7RIYB.js";import"./chunk-EBK7TJOP.js";import"./chunk-CH35XRDS.js";import{c as $,f as E,j as V,p as ee,q as te,r as ie,u as oe,v as ne,x as F}from"./chunk-75IZLKSV.js";import{a as H}from"./chunk-WZ454HCT.js";import{A as C,Ba as M,Bb as re,Ca as S,Cb as se,Da as k,E as b,F as v,Fa as Q,Ia as X,J as D,K as c,Ka as U,L as d,La as z,P,Va as J,Wa as Y,Wb as pe,X as l,Xa as G,Y as w,Ya as K,Za as Z,aa as x,ac as ce,ca as s,cc as I,dc as A,ja as a,ka as n,la as h,ma as y,mb as j,na as m,oa as g,ra as R,sa as B,ta as W,va as r,wa as q,wb as ae,xa as f,zb as le}from"./chunk-QPUKBYNP.js";import"./chunk-GAL4ENT6.js";var _e=["confirmCode"],L=(()=>{class i{onSubmit(){this.is_loading=!0,this.confirm_code===this.confirmation_code?this.http.delete("posting-aplication/",this.selected_application_id).subscribe({next:()=>{this.is_loading=!1,this.message="Code Match, Item was deleted",this.closeModal()},error:e=>{console.log(e),this.is_loading=!1,this.generateCode()}}):(this.generateCode(),this.message="Code mismatch, please try again")}generateCode(){this.is_loading=!1,this.confirmation_code=null,this.confirm_code=Math.floor(Math.random()*1e3).toString().padStart(4,"0")}closeModal(){this.toggleCancelModal.emit()}constructor(e){this.http=e,this.toggleCancelModal=new P,this.faBan=ae,this.confirm_code="0000",this.is_loading=!1,this.message=null}ngOnChanges(e){this.generateCode()}ngAfterViewInit(){this.inputElement.nativeElement.focus()}static{this.\u0275fac=function(t){return new(t||i)(w(H))}}static{this.\u0275cmp=b({type:i,selectors:[["app-cancel-application"]],viewQuery:function(t,o){if(t&1&&R(_e,5),t&2){let p;B(p=W())&&(o.inputElement=p.first)}},inputs:{selected_application_id:"selected_application_id"},outputs:{toggleCancelModal:"toggleCancelModal"},standalone:!0,features:[D,Q],decls:31,vars:6,consts:[["confirmCode",""],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-blue-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmCode"],["name","confirmCode","minlength","4","maxlength","4","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup.enter","ngModelChange","ngModel"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:bg-gray-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"px-5","mx-10","mt-5","italic","text-sm","text-blue-500"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-200","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-[59]","bg-black"]],template:function(t,o){if(t&1){let p=y();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),r(5," Cancel Application "),n()(),a(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),r(10," Your are about to cancel your pending application. Please enter the generated cancel code in order to proceed. "),n(),a(11,"div",10)(12,"span",11),r(13,"Cancel Code"),n(),a(14,"span",12),r(15),n()(),a(16,"div",10)(17,"label",13),r(18,"Enter Code"),n(),a(19,"input",14,0),m("keyup.enter",function(){return c(p),d(o.onSubmit())}),k("ngModelChange",function(N){return c(p),S(o.confirmation_code,N)||(o.confirmation_code=N),d(N)}),n()(),a(21,"div",15)(22,"button",16),m("click",function(){return c(p),d(o.onSubmit())}),h(23,"fa-icon",17),r(24," Cancel "),n()()(),a(25,"div",18),r(26),n()()(),a(27,"div",19)(28,"button",20),m("click",function(){return c(p),d(o.closeModal())}),r(29,"Close"),n()()()()(),h(30,"div",21)}t&2&&(l(15),q(o.confirm_code),l(4),M("ngModel",o.confirmation_code),l(3),s("disabled",!o.confirmation_code||o.is_loading),l(),s("icon",o.faBan),l(3),f(" ",o.message," "),l(2),s("disabled",o.is_loading))},dependencies:[A,I,F,$,E,oe,ne,V]})}}return i})();var ye=(i,u)=>({"text-green-500":i,"text-red-500":u});function xe(i,u){if(i&1&&(a(0,"option",12),r(1),n()),i&2){let e=u.$implicit;s("value",e.id),l(),f(" ",e.name," ")}}function Ce(i,u){if(i&1&&h(0,"fa-icon",23),i&2){let e=g().$implicit,t=g();s("icon",t.faCircleCheck)("ngClass",X(2,ye,e.is_approved===1,e.is_approved===0))}}function be(i,u){if(i&1){let e=y();a(0,"div",13)(1,"div",14)(2,"span",15)(3,"button",16),m("click",function(){let o=c(e).$implicit,p=g();return d(p.toggleModal("post-details",o))}),h(4,"fa-icon",17),n(),r(5),n(),a(6,"span",18),r(7),n(),a(8,"span",19),r(9),U(10,"date"),n()(),a(11,"div",20)(12,"span"),x(13,Ce,1,5,"fa-icon",21),r(14),n()(),a(15,"div",20)(16,"button",22),m("click",function(){c(e);let o=g();return d(o.toggleModal("cancel-application"))}),r(17," Cancel Application "),n()()()}if(i&2){let e=u.$implicit,t=g();l(4),s("icon",t.faArrowUpRightFromSquare),l(),f(" ",e.posting.title," "),l(2),f(" ",e.posting.lib_posting_category_id===1?"Part-time Job":"Scholarship"," "),l(2),f(" Date Applied: ",z(10,6,e.date_applied,"MMM dd, yyyy")," "),l(4),s("ngIf",e.is_approved!==null),l(),f(" ",e.is_approved!==null?e.is_approved===1?"Approved":"Denied":"Pending"," ")}}function ve(i,u){if(i&1){let e=y();a(0,"app-post-details",24),m("toggleModal",function(){c(e);let o=g();return d(o.toggleModal("post-details"))}),n()}if(i&2){let e=g();s("selected_posting",e.selected_posting)}}function we(i,u){if(i&1){let e=y();a(0,"app-cancel-application",25),m("toggleCancelModal",function(){c(e);let o=g();return d(o.toggleCancelModal())}),n()}if(i&2){let e=g();s("selected_application_id",e.selected_application_id)}}var de=(()=>{class i{onSubmit(){let e={};this.http.post("",e).subscribe({next:t=>{console.log(t)},error:t=>console.log(t)})}loadList(){this.isLoading=!0;let e={include:"posting",is_applied:1,per_page:"all"};this.category&&(e.lib_posting_category_id=this.category),this.http.get("posting-application",{params:e}).subscribe({next:t=>{console.log(t),this.applicationList=t.data,this.isLoading=!1},error:t=>console.log(t)})}toggleModal(e,t){this.selected_posting=t?t.posting:null,t&&(this.selected_posting.applicants=[t]),this.modals[e]=!this.modals[e]}toggleCancelModal(e){this.selected_application_id=e,this.modals["cancel-application"]=!this.modals["cancel-application"]}constructor(e){this.http=e,this.faFilter=re,this.faXmark=pe,this.faCircleCheck=le,this.faXmarkCircle=ce,this.faArrowUpRightFromSquare=se,this.category=null,this.isLoading=!1,this.categoryList=[{name:"Scholarship",id:"2"},{name:"Part-time",id:"1"}],this.applicationList=[],this.modals=[]}ngOnInit(){this.loadList()}static{this.\u0275fac=function(t){return new(t||i)(w(H))}}static{this.\u0275cmp=b({type:i,selectors:[["app-history"]],decls:14,vars:6,consts:[[1,"w-full","flex","justify-center","min-h-svh"],[1,"w-5/6"],[1,"flex","justify-between","mt-5"],[1,"text-blue-600","font-semibold","text-2xl"],[1,"flex","justify-end"],[1,"input-txt","w-44",3,"change","ngModelChange","ngModel"],["selected","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col"],["class","border border-gray-400 shadow-md rounded-lg w-full flex p-3 mt-3",4,"ngFor","ngForOf"],[3,"selected_posting","toggleModal",4,"ngIf"],[3,"selected_application_id","toggleCancelModal",4,"ngIf"],[3,"value"],[1,"border","border-gray-400","shadow-md","rounded-lg","w-full","flex","p-3","mt-3"],[1,"w-8/12","flex","flex-col"],[1,"text-xl","font-semibold"],[1,"text-sm","text-blue-600","px-2",3,"click"],[3,"icon"],[1,"text-gray-400","font-semibold","ml-2"],[1,"text-gray-400","ml-2"],[1,"w-2/12","mt-5"],[3,"icon","ngClass",4,"ngIf"],[1,"btn-blue","px-5","text-xs",3,"click"],[3,"icon","ngClass"],[3,"toggleModal","selected_posting"],[3,"toggleCancelModal","selected_application_id"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),r(4," Application History "),n(),a(5,"div",4)(6,"select",5),m("change",function(){return o.loadList()}),k("ngModelChange",function(_){return S(o.category,_)||(o.category=_),_}),a(7,"option",6),r(8,"Show all"),n(),x(9,xe,2,2,"option",7),n()()(),a(10,"div",8),x(11,be,18,9,"div",9),n()()(),x(12,ve,1,1,"app-post-details",10)(13,we,1,1,"app-cancel-application",11)),t&2&&(l(6),M("ngModel",o.category),l(),s("ngValue",null),l(2),s("ngForOf",o.categoryList),l(2),s("ngForOf",o.applicationList),l(),s("ngIf",o.modals["post-details"]),l(),s("ngIf",o.modals["cancel-application"]))},dependencies:[J,Y,G,te,ie,ee,E,V,I,T,L,K]})}}return i})();var Me=[{path:"",component:de}],me=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=v({type:i})}static{this.\u0275inj=C({imports:[j.forChild(Me),j]})}}return i})();var Je=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=v({type:i})}static{this.\u0275inj=C({imports:[Z,me,F,A,T,L]})}}return i})();export{Je as HistoryModule};
