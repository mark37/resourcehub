import{a as E}from"./chunk-6AMDTI34.js";import{a as ne}from"./chunk-IFVYTKAZ.js";import"./chunk-JD5J2SHZ.js";import"./chunk-X2E2UYKM.js";import{c as Y,f as $,j as G,x as J}from"./chunk-WBDN5LS2.js";import{a as k}from"./chunk-E4IS3X2R.js";import{A as w,Ab as Z,Ba as O,Bb as ee,Ca as R,Da as q,E as y,F as v,Fa as B,Fb as te,Ib as ie,K as f,Ka as U,L as h,La as W,P as j,Tb as oe,Ua as V,Wa as z,X as r,Xa as b,Y as C,Ya as H,Za as S,aa as _,bc as M,ca as s,cc as A,fa as D,ja as l,ka as n,la as m,ma as g,mb as F,na as d,nb as K,oa as p,ob as Q,va as a,wa as L,xa as x,ya as P,zb as X}from"./chunk-WRVIYC7E.js";import"./chunk-GAL4ENT6.js";function ce(i,u){if(i&1){let e=g();l(0,"div")(1,"button",10),d("click",function(){f(e);let o=p();return h(o.closeModal())}),m(2,"fa-icon",11),a(3," Back "),n()()}if(i&2){let e=p();r(2),s("icon",e.faArrowLeft)}}function me(i,u){if(i&1){let e=g();l(0,"div",12)(1,"div",13),a(2),m(3,"br"),a(4," Are you sure you want to apply to this job posting? "),n(),l(5,"div",14)(6,"button",15),d("click",function(){f(e);let o=p();return h(o.toggleConfirmation())}),a(7," Cancel "),n(),l(8,"button",16),d("click",function(){f(e);let o=p();return h(o.onSubmit(!0))}),a(9," Apply "),n()()()}if(i&2){let e=p();r(2),x(" You are applying to ",e.selected_posting.title,". ")}}function de(i,u){if(i&1){let e=g();l(0,"div",17)(1,"button",18),d("click",function(){f(e);let o=p();return h(o.onSubmit())}),m(2,"fa-icon",11),a(3," Save post "),n(),l(4,"button",16),d("click",function(){f(e);let o=p();return h(o.toggleConfirmation())}),m(5,"fa-icon",11),a(6," Apply now "),n()()}if(i&2){let e=p();r(2),s("icon",e.faSave),r(3),s("icon",e.faFileLines)}}var I=(()=>{class i{savePost(){let e={posting_id:this.selected_posting.id};this.http.post("posting-application",e).subscribe({next:t=>{this.closeModal()},error:t=>console.log(t)})}toggleConfirmation(){this.showConfirmation=!this.showConfirmation}onSubmit(e){let t={};t.posting_id=this.selected_posting.id,e&&(t.is_applied=1),t.date_applied=V(new Date,"yyyy-MM-dd","en","Asia/manila"),this.http.post("posting-application",t).subscribe({next:()=>{this.closeModal()},error:o=>console.log(o)})}applyPost(){let e={posting_id:this.selected_posting.id,is_applied:1,date_applied:V(new Date,"yyyy-MM-dd","en","Asia/manila")};this.http.post("posting-application",e).subscribe({next:t=>{this.closeModal()},error:t=>console.log(t)})}closeModal(){this.toggleModal.emit()}constructor(e){this.http=e,this.toggleModal=new j,this.faSave=te,this.faFileLines=K,this.faArrowLeft=ie,this.showConfirmation=!1}ngOnInit(){}static{this.\u0275fac=function(t){return new(t||i)(C(k))}}static{this.\u0275cmp=y({type:i,selectors:[["app-apply-now"]],inputs:{selected_posting:"selected_posting",isAuthenticated:"isAuthenticated"},outputs:{toggleModal:"toggleModal"},standalone:!0,features:[B],decls:12,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","py-3","px-5","text-blue-600"],[4,"ngIf"],[1,"my-2","md:text-2xl","font-bold","text-gray-800"],[1,"overflow-y-auto","min-h-[300px]","max-h-[620px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100","px-5","pb-5","flex","flex-col","md:flex-row"],["class","flex flex-col w-full my-auto",4,"ngIf"],["class","flex justify-center py-2 px-5 space-x-4 rounded-b border-t border-gray-200",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"mt-3",3,"click"],[3,"icon"],[1,"flex","flex-col","w-full","my-auto"],[1,"flex","justify-center"],[1,"flex","justify-center","mt-5"],[1,"btn-blue","bg-gray-400","mr-3",3,"click"],[1,"btn-blue",3,"click"],[1,"flex","justify-center","py-2","px-5","space-x-4","rounded-b","border-t","border-gray-200"],[1,"btn-blue","bg-orange-500",3,"click"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,ce,4,1,"div",4),l(5,"h3",5),a(6),n(),m(7,"div"),n(),l(8,"div",6),_(9,me,10,1,"div",7),n(),_(10,de,7,2,"div",8),n()()(),m(11,"div",9)),t&2&&(r(4),s("ngIf",!o.showConfirmation),r(2),x(" ",o.selected_posting.title," "),r(3),s("ngIf",o.showConfirmation),r(),s("ngIf",!o.showConfirmation))},dependencies:[S,b,A,M]})}}return i})();function he(i,u){if(i&1&&(l(0,"div",19),m(1,"fa-icon",24),a(2),U(3,"date"),n()),i&2){let e=p().$implicit,t=p();r(),s("icon",t.faCheckCircle),r(),x(" Application submitted: ",W(3,2,e.applicants[0]==null?null:e.applicants[0].date_applied,"MMM dd, yyyy")," ")}}function ue(i,u){if(i&1){let e=g();l(0,"div",15)(1,"div",16)(2,"span",17),a(3),n(),l(4,"span",18),a(5),n(),_(6,he,4,5,"div",19),n(),l(7,"div",20)(8,"span",21),a(9,"Slots"),n(),l(10,"span",17),a(11),n()(),l(12,"div",22)(13,"div")(14,"button",23),d("click",function(){let o=f(e).$implicit,c=p();return h(c.toggleModal("view-details",o))}),a(15," View details "),m(16,"fa-icon",5),n()()()()}if(i&2){let e=u.$implicit,t=p();r(3),x("Posted on ",e.date_published,""),r(2),L(e.title),r(),D(e.applicants&&e.applicants.length>0&&e.applicants[0].is_applied===1?6:-1),r(5),P("",e.posting_applications_count,"/",e.slot,""),r(5),s("icon",t.faArrowUpRightFromSquare)}}function _e(i,u){i&1&&(l(0,"div",25)(1,"div",26),m(2,"img",27),n(),l(3,"div",28)(4,"span",29),a(5,"No Eligible Scholarship Posts"),n(),l(6,"div",30),a(7,"Scanned scholarship posting show up here"),n()()())}function ge(i,u){if(i&1){let e=g();l(0,"app-apply-now",31),d("toggleModal",function(){f(e);let o=p();return h(o.toggleModal("apply-now"))}),n()}}function xe(i,u){if(i&1){let e=g();l(0,"app-post-details",32),d("toggleModal",function(){f(e);let o=p();return h(o.toggleModal("view-details"))}),n()}if(i&2){let e=p();s("selected_posting",e.selected_posting)("isAuthenticated",e.isAuthenticated)}}var le=(()=>{class i{toggleModal(e,t){this.selected_posting=t,this.modals[e]=!this.modals[e]}loadScholarship(e){let t={};t.page=e??1,t.lib_posting_category_id=2,t.is_published="published",this.searchTerm&&(t.search=this.searchTerm);let o=this.isAuthenticated?"posting-information":"public-info";this.http.get(o,{params:t}).subscribe({next:c=>{console.log(c),this.scholarList=c.data,this.current_page=c.meta.current_page,this.last_page=c.meta.last_page,this.from=c.meta.from,this.to=c.meta.to,this.total=c.meta.total},error:c=>console.log(c)})}constructor(e){this.http=e,this.faSearch=oe,this.faFilter=Z,this.faArrowUpRightFromSquare=ee,this.faCircleNotch=Q,this.faCheckCircle=X,this.scholarList=[],this.modals=[],this.per_page=5,this.isAuthenticated=!1}ngOnInit(){localStorage.getItem("access_token")?this.isAuthenticated=!0:this.isAuthenticated=!1,this.loadScholarship()}static{this.\u0275fac=function(t){return new(t||i)(C(k))}}static{this.\u0275cmp=y({type:i,selectors:[["app-scholarship"]],decls:18,vars:7,consts:[[1,"flex","flex-col","mt-5","mx-5","md:mx-20","min-h-screen"],[1,"font-bold","text-2xl","text-blue-600"],[1,"flex","flex-row","justify-between","mt-3","mr-3"],[1,"w-5/6","flex","item-start"],[1,"input-txt","rounded-l-md","rounded-r-none","border-r-0","w-8","p-1","pl-2"],[3,"icon"],["type","text","placeholder","Search scholarship",1,"input-txt","rounded-l-none","placeholder:italic","rounded-md","border-l-0",3,"keydown.enter","ngModelChange","ngModel"],[1,"w-1/6","flex","item-start"],[1,"px-3","btn-blue-nr","ml-3",3,"click"],[1,"hidden","md:inline","md:pl-1"],[1,"flex","flex-col"],["class","flex flex-col md:grid md:grid-cols-12 border border-gray-300 shadow rounded-lg h-auto md:h-28 mt-3 w-full",4,"ngFor","ngForOf"],["class","flex flex-col w-full",4,"ngIf"],[3,"toggleModal",4,"ngIf"],[3,"selected_posting","isAuthenticated","toggleModal",4,"ngIf"],[1,"flex","flex-col","md:grid","md:grid-cols-12","border","border-gray-300","shadow","rounded-lg","h-auto","md:h-28","mt-3","w-full"],[1,"col-span-7","flex","flex-col","m-3","md:m-6"],[1,"text-gray-500"],[1,"text-2xl"],[1,"text-sm","w-fit","rounded-full","italic","text-gray-500"],[1,"flex","flex-row","md:flex-col","h-full","ml-3","md:item-center","md:mt-8","md:text-sm"],[1,"font-semibold","mr-3"],[1,"col-span-4","flex","flex-row","text-xs","my-5","md:mt-10","justify-center"],[1,"btn-blue","w-32","mr-3",3,"click"],[1,"text-base","text-green-500","p-1",3,"icon"],[1,"flex","flex-col","w-full"],[1,"flex","justify-center"],["src","../assets/img/no-recent.png",1,"h-18"],[1,"flex","flex-col","justify-center","mb-5","w-3/5","mx-auto","text-center"],[1,"font-semibold"],[1,"mt-3","text-sm"],[3,"toggleModal"],[3,"toggleModal","selected_posting","isAuthenticated"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),a(2," Scholarship Programs "),n(),l(3,"div",2)(4,"div",3)(5,"div",4),m(6,"fa-icon",5),n(),l(7,"input",6),d("keydown.enter",function(){return o.loadScholarship()}),q("ngModelChange",function(T){return R(o.searchTerm,T)||(o.searchTerm=T),T}),n()(),l(8,"div",7)(9,"button",8),d("click",function(){return o.loadScholarship()}),m(10,"fa-icon",5),l(11,"span",9),a(12,"Filter"),n()()()(),l(13,"div",10),_(14,ue,17,6,"div",11)(15,_e,8,0,"div",12),n()(),_(16,ge,1,0,"app-apply-now",13)(17,xe,1,2,"app-post-details",14)),t&2&&(r(6),s("icon",o.faSearch),r(),O("ngModel",o.searchTerm),r(3),s("icon",o.faFilter),r(4),s("ngForOf",o.scholarList),r(),s("ngIf",o.scholarList.length===0),r(),s("ngIf",o.modals["apply-now"]),r(),s("ngIf",o.modals["view-details"]))},dependencies:[z,b,M,I,E,Y,$,G,H]})}}return i})();var we=[{path:"",component:le}],re=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=v({type:i})}static{this.\u0275inj=w({imports:[F.forChild(we),F]})}}return i})();var We=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=v({type:i})}static{this.\u0275inj=w({imports:[S,re,A,ne,I,E,J]})}}return i})();export{We as ScholarshipModule};
