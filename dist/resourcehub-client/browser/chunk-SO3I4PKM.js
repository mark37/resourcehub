import{a as _}from"./chunk-3S2AFWLD.js";import"./chunk-JD5J2SHZ.js";import"./chunk-X2E2UYKM.js";import{f as O,j as D,p as P,q as R,r as X,x as q}from"./chunk-WBDN5LS2.js";import{a as K}from"./chunk-FHEZCTWS.js";import{$b as J,A as g,Ab as W,Ba as F,Bb as B,Ca as H,Da as I,E as S,F as f,Ia as L,K as x,Ka as E,L as C,La as N,Va as k,Vb as $,Wa as T,X as o,Xa as V,Y as b,Ya as j,Za as A,aa as d,bc as z,ca as s,cc as G,ja as l,ka as n,la as v,ma as M,mb as w,na as u,oa as c,va as a,xa as m,yb as U}from"./chunk-WRVIYC7E.js";import"./chunk-GAL4ENT6.js";var tt=(e,p)=>({"text-green-500":e,"text-red-500":p});function et(e,p){if(e&1&&(l(0,"option",11),a(1),n()),e&2){let t=p.$implicit;s("value",t.id),o(),m(" ",t.name," ")}}function it(e,p){if(e&1&&v(0,"fa-icon",21),e&2){let t=c().$implicit,i=c();s("icon",i.faCircleCheck)("ngClass",L(2,tt,t.is_approved===1,t.is_approved===0))}}function ot(e,p){if(e&1){let t=M();l(0,"div",12)(1,"div",13)(2,"span",14)(3,"button",15),u("click",function(){let r=x(t).$implicit,h=c();return C(h.toggleModal("post-details",r))}),v(4,"fa-icon",16),n(),a(5),n(),l(6,"span",17),a(7),n(),l(8,"span",18),a(9),E(10,"date"),n()(),l(11,"div",19)(12,"span"),d(13,it,1,5,"fa-icon",20),a(14),n()()()}if(e&2){let t=p.$implicit,i=c();o(4),s("icon",i.faArrowUpRightFromSquare),o(),m(" ",t.posting.title," "),o(2),m(" ",t.posting.lib_posting_category_id===1?"Part-time Job":"Scholarship"," "),o(2),m(" Date Applied: ",N(10,6,t.date_applied,"MMM dd, yyyy")," "),o(4),s("ngIf",t.is_approved!==null),o(),m(" ",t.is_approved!==null?t.is_approved===1?"Approved":"Denied":"Pending"," ")}}function nt(e,p){if(e&1){let t=M();l(0,"app-post-details",22),u("toggleModal",function(){x(t);let r=c();return C(r.toggleModal("post-details"))}),n()}if(e&2){let t=c();s("selected_posting",t.selected_posting)}}var Y=(()=>{class e{onSubmit(){let t={};this.http.post("",t).subscribe({next:i=>{console.log(i)},error:i=>console.log(i)})}loadList(){this.isLoading=!0;let t={include:"posting",is_applied:1};this.category&&(t.lib_posting_category_id=this.category),this.http.get("posting-application",{params:t}).subscribe({next:i=>{console.log(i),this.applicationList=i.data,this.isLoading=!1},error:i=>console.log(i)})}toggleModal(t,i){this.selected_posting=i?i.posting:null,i&&(this.selected_posting.applicants=[i]),this.modals[t]=!this.modals[t]}constructor(t){this.http=t,this.faFilter=W,this.faXmark=$,this.faCircleCheck=U,this.faXmarkCircle=J,this.faArrowUpRightFromSquare=B,this.category=null,this.isLoading=!1,this.categoryList=[{name:"Scholarship",id:"2"},{name:"Part-time",id:"1"}],this.applicationList=[],this.modals=[]}ngOnInit(){this.loadList()}static{this.\u0275fac=function(i){return new(i||e)(b(K))}}static{this.\u0275cmp=S({type:e,selectors:[["app-history"]],decls:13,vars:5,consts:[[1,"w-full","flex","justify-center","min-h-svh"],[1,"w-5/6"],[1,"flex","justify-between","mt-5"],[1,"text-blue-600","font-semibold","text-2xl"],[1,"flex","justify-end"],[1,"input-txt","w-44",3,"change","ngModelChange","ngModel"],["selected","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col"],["class","border border-gray-400 shadow-md rounded-lg w-full flex p-3 mt-3",4,"ngFor","ngForOf"],[3,"selected_posting","toggleModal",4,"ngIf"],[3,"value"],[1,"border","border-gray-400","shadow-md","rounded-lg","w-full","flex","p-3","mt-3"],[1,"w-8/12","flex","flex-col"],[1,"text-xl","font-semibold"],[1,"text-sm","text-blue-600","px-2",3,"click"],[3,"icon"],[1,"text-gray-400","font-semibold","ml-2"],[1,"text-gray-400","ml-2"],[1,"w-4/12","mt-5"],[3,"icon","ngClass",4,"ngIf"],[3,"icon","ngClass"],[3,"toggleModal","selected_posting"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a(4," Application History "),n(),l(5,"div",4)(6,"select",5),u("change",function(){return r.loadList()}),I("ngModelChange",function(y){return H(r.category,y)||(r.category=y),y}),l(7,"option",6),a(8,"Show all"),n(),d(9,et,2,2,"option",7),n()()(),l(10,"div",8),d(11,ot,15,9,"div",9),n()()(),d(12,nt,1,1,"app-post-details",10)),i&2&&(o(6),F("ngModel",r.category),o(),s("ngValue",null),o(2),s("ngForOf",r.categoryList),o(2),s("ngForOf",r.applicationList),o(),s("ngIf",r.modals["post-details"]))},dependencies:[k,T,V,R,X,P,O,D,z,_,j]})}}return e})();var rt=[{path:"",component:Y}],Z=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=f({type:e})}static{this.\u0275inj=g({imports:[w.forChild(rt),w]})}}return e})();var wt=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=f({type:e})}static{this.\u0275inj=g({imports:[A,Z,q,G,_]})}}return e})();export{wt as HistoryModule};
