import{c as I,e as m,f as R,g as k,h as M,i as p,k as j,n as N,o as T,w as V,y as G}from"./chunk-POSQ46WM.js";import{a as $}from"./chunk-EDMWRYVU.js";import{A as u,Bb as A,E as C,F as f,Gb as B,K as h,L as w,X as n,Y as x,Ya as S,_a as E,aa as g,ca as a,cc as D,dc as Y,ib as F,ja as i,ka as o,la as c,ma as P,na as v,nb as _,oa as d,ub as q,va as r,xa as b}from"./chunk-7PEPAECK.js";function O(t,y){t&1&&(i(0,"div",14),r(1," Password Mismatch "),o())}function Z(t,y){if(t&1){let e=P();i(0,"form",3)(1,"div",4)(2,"span",5),r(3,"Change Password"),o()(),i(4,"div")(5,"label"),r(6,"Password"),o(),i(7,"div",6),c(8,"input",7),i(9,"button",8),v("click",function(){h(e);let l=d();return w(l.togglePassInput())}),c(10,"fa-icon",9),o()(),i(11,"div")(12,"ul",10)(13,"li"),r(14,"Password should have atleast 6 characters"),o(),i(15,"li"),r(16,"Password should contain atleast 1 special character"),o(),i(17,"li"),r(18,"Password should contain atleast 1 numeric value"),o(),i(19,"li"),r(20,"Password should contain atleast 1 capital letter"),o()()(),i(21,"div",11)(22,"label"),r(23,"Confirm Password"),o(),c(24,"input",12),o(),g(25,O,2,0,"div",13),i(26,"div",14),r(27),o()(),i(28,"div",15)(29,"button",16),v("click",function(){h(e);let l=d();return w(l.onSubmit())}),r(30," Change Password "),o()()()}if(t&2){let e=d();a("formGroup",e.resetForm),n(8),a("type",e.showPassTxt?"text":"password"),n(2),a("icon",e.showPassTxt?e.faEyeSlash:e.faEye),n(14),a("type",e.showPassTxt?"text":"password"),n(),a("ngIf",e.resetForm.value.password!==e.resetForm.value.password_confirmation),n(2),b(" ",e.error_message," "),n(2),a("disabled",e.is_saving||!e.resetForm.valid||e.resetForm.value.password!==e.resetForm.value.password_confirmation)}}function J(t,y){if(t&1&&(i(0,"div",17),c(1,"fa-icon",18),i(2,"span",19),r(3,"Password change successfull"),o(),i(4,"span",20),r(5," Your password was successfully changed. You may now login using your new credentials. "),o(),i(6,"div",21)(7,"a",22),r(8," Back to login "),o()()()),t&2){let e=d();n(),a("icon",e.faCheckCircle)}}var H=(()=>{class t{togglePassInput(){this.showPassTxt=!this.showPassTxt}onSubmit(){this.is_saving=!0,console.log(this.resetForm.value),this.http.resetPass(this.resetForm.value).subscribe({next:e=>{console.log(e),this.is_saving=!1,this.success_change=!0},error:e=>{console.log(e),this.error_message=e.error.email[0],this.is_saving=!1}})}constructor(e,s,l){this.formBuilder=e,this.http=s,this.route=l,this.faEye=B,this.faEyeSlash=q,this.faCheckCircle=A,this.resetForm=new M({email:new p(null),password:new p(null),password_confirmation:new p(null),token:new p(null)}),this.showPassTxt=!1,this.is_saving=!1,this.success_change=!1}ngOnInit(){let e;this.route.queryParams.subscribe(s=>{console.log(s),e={email:s.email,token:s.token},this.resetForm=this.formBuilder.group({email:[e.email,[m.required,m.email]],password:[null,[m.pattern("^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[#?!@$%^&*\\-_]).{6,}$")]],password_confirmation:[null,[m.required,m.minLength(6)]],token:[e.token,[m.required]]})}),console.log(this.resetForm.value)}static{this.\u0275fac=function(s){return new(s||t)(x(V),x($),x(F))}}static{this.\u0275cmp=C({type:t,selectors:[["app-reset-password"]],decls:3,vars:2,consts:[[1,"bg-gray-200","flex","justify-center","h-full"],["class","flex flex-col bg-white w-2/5 mt-10 rounded-lg h-fit p-5 px-10",3,"formGroup",4,"ngIf"],["class","flex flex-col justify-center text-center bg-white w-2/5 mt-10 rounded-lg h-fit p-5 px-10 py-10",4,"ngIf"],[1,"flex","flex-col","bg-white","w-2/5","mt-10","rounded-lg","h-fit","p-5","px-10",3,"formGroup"],[1,"flex","justify-center","mb-10"],[1,"text-xl","font-semibold"],[1,"flex"],["formControlName","password",1,"input-txt","border-r-0","rounded-r-none",3,"type"],[1,"input-txt","w-12","rounded-l-none","border-l-0",3,"click"],[3,"icon"],[1,"list-disc","ml-5","text-sm","italic"],[1,"mt-3"],["formControlName","password_confirmation",1,"input-txt",3,"type"],["class","text-red-500 italic text-sm",4,"ngIf"],[1,"text-red-500","italic","text-sm"],[1,"flex","justify-end","mt-5"],[1,"btn-blue-nr","px-5",3,"click","disabled"],[1,"flex","flex-col","justify-center","text-center","bg-white","w-2/5","mt-10","rounded-lg","h-fit","p-5","px-10","py-10"],[1,"text-blue-500","text-2xl",3,"icon"],[1,"text-blue-500","font-semibold"],[1,"w-4/6","mx-auto","mt-5","text-justify"],[1,"mt-5"],["href","/",1,"btn-blue-nr","mt-5","px-5"]],template:function(s,l){s&1&&(i(0,"div",0),g(1,Z,31,7,"form",1)(2,J,9,1,"div",2),o()),s&2&&(n(),a("ngIf",!l.success_change),n(),a("ngIf",l.success_change))},dependencies:[S,D,j,I,R,k,N,T]})}}return t})();var K=[{path:"",component:H}],L=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=f({type:t})}static{this.\u0275inj=u({imports:[_.forChild(K),_]})}}return t})();var ue=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=f({type:t})}static{this.\u0275inj=u({imports:[E,L,Y,G]})}}return t})();export{ue as a};
