import{a as k,c as he}from"./chunk-3ZMCWSNX.js";import{a as V,b as N}from"./chunk-5PVSV6LE.js";import{b as W,c as X,e as b,f as Z,g as ee,h as te,i as d,k as ie,n as ne,o as oe,p as re,q as ae,r as le,w as me,y as se}from"./chunk-75IZLKSV.js";import{a as xe}from"./chunk-WZ454HCT.js";import{A as P,E as U,F as T,Fb as de,Ha as y,Ia as $,Jb as ue,K as g,L as x,Na as H,P as B,Va as K,Wa as Q,X as l,Xa as J,Y as F,Za as Y,aa as _,ca as a,cc as fe,dc as ge,ea as I,fa as E,ja as n,jb as z,ka as i,la as c,ma as v,mb as O,n as D,na as f,oa as p,ob as pe,ra as L,sa as G,ta as q,tb as ce,ua as w,ub as _e,va as m,wa as h,xa as C}from"./chunk-QPUKBYNP.js";import"./chunk-GAL4ENT6.js";function Ce(){return new te({id:new d(null),first_name:new d(null),middle_name:new d(null),last_name:new d(null),suffix_name:new d(null),email:new d(null),password:new d(null),password_confirmation:new d(null),contact_number:new d(null),gender:new d(null),birthdate:new d(null),province_code:new d(null),municipality_code:new d(null),barangay_code:new d(null),address:new d(null),place_of_birth:new d(null),lib_school_id:new d(null),lib_education_level_id:new d(null),lib_year_level_id:new d(null),lib_academic_program_id:new d(null),scholar_flag:new d(!1),shiftee_flag:new d(!1),irregular_flag:new d(!1),course_code:new d(null),year_level:new d(null),ofw_flag:new d(!1),fathers_name:new d(null),fathers_occupation:new d(null),fathers_company:new d(null),mothers_name:new d(null),mothers_occupation:new d(null),mothers_company:new d(null),average_monthly_income:new d(null),cor_url:new d(null),photo_url:new d(null),grade_url:new d(null)})}var Ie=["emailInput"],A=t=>({"border-b-blue-600":t}),be=t=>({invisible:t}),j=t=>({"bg-gray-300":t}),ke=(t,s)=>({"text-blue-500":t,"text-red-600":s});function Ve(t,s){t&1&&m(0," | Personal Information ")}function Ne(t,s){t&1&&m(0," | Academic Information ")}function Me(t,s){t&1&&m(0," | Parent's Information ")}function Oe(t,s){if(t&1&&(n(0,"span",10),_(1,Ve,1,0)(2,Ne,1,0)(3,Me,1,0),i()),t&2){let e,o=p();l(),E((e=o.page)===1?1:e===2?2:e===3?3:-1)}}function Ae(t,s){t&1&&(n(0,"div",14),m(1," These information will be used for all of your applications "),i())}function je(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(3);a("childForm",e.signUpForm)("childFormName","email")}}function Re(t,s){t&1&&(n(0,"span",44),m(1," Password does not match "),i())}function De(t,s){if(t&1&&c(0,"fa-icon",45),t&2){let e=p(3);a("icon",e.faCircleNotch)}}function Be(t,s){if(t&1){let e=v();n(0,"div",16)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div"),m(5," Sign Up "),i(),n(6,"a",21),m(7," x "),i()(),n(8,"div",22)(9,"div",23)(10,"label",24),m(11,"Email"),i(),n(12,"input",25,0),f("keypress",function(r){g(e);let u=w(33),S=p(2);return x(S.handleKeyPress(r,u))}),i(),_(14,je,1,2,"app-error-label",26),i(),n(15,"div")(16,"label",27),m(17,"Password (6+ Character)"),i(),n(18,"div",8)(19,"input",28),f("keypress",function(r){g(e);let u=w(33),S=p(2);return x(S.handleKeyPress(r,u))}),i(),n(20,"button",29),f("click",function(){g(e);let r=p(2);return x(r.togglePassword())}),c(21,"fa-icon",30),i()(),c(22,"app-error-label",31),i(),n(23,"div")(24,"label",32),m(25,"Confirm Password"),i(),n(26,"input",33),f("keypress",function(r){g(e);let u=w(33),S=p(2);return x(S.handleKeyPress(r,u))}),i(),_(27,Re,2,0,"span",34),n(28,"span",35),m(29),i()(),n(30,"div",36)(31,"div",37)(32,"button",38,1),f("click",function(){g(e);let r=p(2);return x(r.navigatePage(1))}),_(34,De,1,1,"fa-icon",39),m(35),i(),n(36,"span",40),m(37," By proceeding you agree to "),n(38,"span",41),f("click",function(){g(e);let r=p(2);return x(r.toggleModal("terms-of-use"))}),m(39,"Terms of Use"),i(),m(40," and "),n(41,"span",41),f("click",function(){g(e);let r=p(2);return x(r.toggleModal("user-agreement"))}),m(42,"User Agreement"),i()()()(),n(43,"span",42),m(44," Already on ResourceHub? "),n(45,"a",43),m(46,"Sign In"),i()()()()()()}if(t&2){let e=p(2);l(14),a("ngIf",e.formSubmitted),l(5),a("type",e.isInputPass?"password":"text"),l(2),a("icon",e.isInputPass?e.faEye:e.faEyeSlash),l(),a("childForm",e.signUpForm)("childFormName","password"),l(4),a("type",e.isInputPass?"password":"text"),l(),a("ngIf",e.signUpForm.value.password!==e.signUpForm.value.password_confirmation),l(2),h(e.email_err),l(3),a("disabled",!e.signUpForm.valid||e.checking_email||e.signUpForm.value.password!==e.signUpForm.value.password_confirmation),l(2),a("ngIf",e.checking_email),l(),C(" ",e.checking_email?"Checking Email":"Proceed"," ")}}function Le(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","first_name")}}function Ge(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","last_name")}}function qe(t,s){if(t&1&&(n(0,"option",85),m(1),i()),t&2){let e=s.$implicit;a("value",e.code),l(),h(e.suffix_desc)}}function $e(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","birthdate")}}function He(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","gender")}}function Ke(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","contact_number")}}function Qe(t,s){if(t&1&&(n(0,"option",85),m(1),i()),t&2){let e=s.$implicit;a("value",e.code),l(),h(e.name)}}function Je(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","province_code")}}function Ye(t,s){if(t&1&&(n(0,"option",85),m(1),i()),t&2){let e=s.$implicit;a("value",e.code),l(),h(e.name)}}function ze(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","municipality_code")}}function We(t,s){if(t&1&&(n(0,"option",85),m(1),i()),t&2){let e=s.$implicit;a("value",e.code),l(),C(" ",e.name,"")}}function Xe(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","barangay_code")}}function Ze(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","address")}}function et(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","place_of_birth")}}function tt(t,s){if(t&1){let e=v();n(0,"div",48)(1,"div")(2,"label",51),m(3,"First Name"),i(),c(4,"input",52),_(5,Le,1,2,"app-error-label",26),i(),n(6,"div")(7,"label",53),m(8,"Middle Name (optional)"),i(),c(9,"input",54),i(),n(10,"div",55)(11,"div",56)(12,"label",57),m(13,"Last Name"),i(),c(14,"input",58),_(15,Ge,1,2,"app-error-label",26),i(),n(16,"div",59)(17,"label",60),m(18,"Suffix"),i(),n(19,"select",61),_(20,qe,2,2,"option",62),i()()(),n(21,"div",63)(22,"div")(23,"label",64),m(24,"Date of Birth"),i(),c(25,"input",65),_(26,$e,1,2,"app-error-label",26),i(),n(27,"div")(28,"label",66),m(29,"Gender"),i(),n(30,"select",67)(31,"option",68),m(32,"Male"),i(),n(33,"option",69),m(34,"Female"),i()(),_(35,He,1,2,"app-error-label",26),i()(),n(36,"div")(37,"label",70),m(38,"Contact Number"),i(),c(39,"input",71),_(40,Ke,1,2,"app-error-label",26),i(),c(41,"div"),n(42,"div")(43,"label",72),m(44,"Province"),i(),n(45,"select",73),f("change",function(){g(e);let r=p(3);return x(r.getDemog("psgc/provinces",r.signUpForm.value.province_code,"municipalities"))}),_(46,Qe,2,2,"option",62),i(),_(47,Je,1,2,"app-error-label",26),i(),n(48,"div",74)(49,"label",75),m(50,"Municipality"),i(),n(51,"select",76),f("change",function(){g(e);let r=p(3);return x(r.getDemog("psgc/municipalities",r.signUpForm.value.municipality_code,"barangays"))}),_(52,Ye,2,2,"option",62),i(),_(53,ze,1,2,"app-error-label",26),i(),n(54,"div",74)(55,"label",77),m(56,"Barangay"),i(),n(57,"select",78),_(58,We,2,2,"option",62),i(),_(59,Xe,1,2,"app-error-label",26),i(),n(60,"div",59)(61,"label",79),m(62,"Address: lot #, house #, building, etc..."),i(),c(63,"input",80),_(64,Ze,1,2,"app-error-label",26),i(),n(65,"div")(66,"label",81),m(67,"Place of Birth"),i(),c(68,"input",82),_(69,et,1,2,"app-error-label",26),i(),n(70,"div",83)(71,"button",84),f("click",function(){g(e);let r=p(3);return x(r.navigatePage(2))}),m(72," Next "),i()()()}if(t&2){let e=p(3);l(5),a("ngIf",e.formSubmitted),l(10),a("ngIf",e.formSubmitted),l(5),a("ngForOf",e.suffixes),l(6),a("ngIf",e.formSubmitted),l(9),a("ngIf",e.formSubmitted),l(4),a("showMaskTyped",!0),l(),a("ngIf",e.formSubmitted),l(6),a("ngForOf",e.provinces),l(),a("ngIf",e.formSubmitted),l(),a("ngClass",y(17,be,!e.signUpForm.value.province_code)),l(4),a("ngForOf",e.municipalities),l(),a("ngIf",e.formSubmitted),l(),a("ngClass",y(19,be,!e.signUpForm.value.municipality_code)),l(4),a("ngForOf",e.barangays),l(),a("ngIf",e.formSubmitted),l(5),a("ngIf",e.formSubmitted),l(5),a("ngIf",e.formSubmitted)}}function it(t,s){if(t&1&&(n(0,"option",85),m(1),i()),t&2){let e=s.$implicit;a("value",e.id),l(),h(e.desc)}}function nt(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","lib_school_id")}}function ot(t,s){if(t&1&&(n(0,"option",85),m(1),i()),t&2){let e=s.$implicit;a("value",e.id),l(),h(e.desc)}}function rt(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","lib_academic_program_id")}}function at(t,s){if(t&1&&(n(0,"option",85),m(1),i()),t&2){let e=s.$implicit;a("value",e.id),l(),h(e.desc)}}function lt(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","lib_year_level_id")}}function mt(t,s){if(t&1){let e=v();n(0,"div")(1,"input",104,4),f("change",function(r){g(e);let u=p(4);return x(u.onFileSelected(r,"cor_url"))}),i(),n(3,"button",103),f("click",function(){g(e);let r=w(2);return x(r.click())}),c(4,"fa-icon",30),m(5),i()()}if(t&2){let e=p(4);l(3),a("ngClass",y(3,j,e.signUpForm.value.cor_url)),l(),a("icon",e.faArrowUpFromBracket),l(),C(" ",e.signUpForm.value.cor_url?"Change":"Upload"," COR/SOA/Enrollment Certificate ")}}function st(t,s){if(t&1){let e=v();n(0,"div",49)(1,"div")(2,"label",86),m(3,"School/ University Enrolled at"),i(),n(4,"select",87),_(5,it,2,2,"option",62),i(),_(6,nt,1,2,"app-error-label",26),i(),n(7,"div")(8,"label",88),m(9,"Course"),i(),n(10,"select",89),_(11,ot,2,2,"option",62),i(),_(12,rt,1,2,"app-error-label",26),i(),n(13,"div")(14,"label",90),m(15,"Year Level"),i(),n(16,"select",91),_(17,at,2,2,"option",62),i(),_(18,lt,1,2,"app-error-label",26),i(),n(19,"div",92)(20,"div"),c(21,"input",93),n(22,"label",94),m(23,"Are you already a GRANTEE of a scholarship program?"),i()(),n(24,"div"),c(25,"input",95),n(26,"label",96),m(27,"Are you a SHIFTEE?"),i()(),n(28,"div"),c(29,"input",97),n(30,"label",98),m(31,"Are you an IRREGULAR student?"),i()()(),n(32,"div",99),_(33,mt,6,5,"div",100),n(34,"div",101),m(35),i(),n(36,"div")(37,"input",102,2),f("change",function(r){g(e);let u=p(3);return x(u.onFileSelected(r,"photo_url"))}),i(),n(39,"button",103),f("click",function(){g(e);let r=w(38);return x(r.click())}),c(40,"fa-icon",30),m(41),i()(),n(42,"div",101),m(43),i(),n(44,"div")(45,"input",104,3),f("change",function(r){g(e);let u=p(3);return x(u.onFileSelected(r,"grade_url"))}),i(),n(47,"button",103),f("click",function(){g(e);let r=w(46);return x(r.click())}),c(48,"fa-icon",30),m(49),i()(),n(50,"div",101),m(51),i(),n(52,"span",105),m(53),i()(),n(54,"div",106)(55,"button",107),f("click",function(){g(e);let r=p(3);return x(r.navigatePage(3))}),m(56," Next "),i()()()}if(t&2){let e=p(3);l(5),a("ngForOf",e.schools),l(),a("ngIf",e.formSubmitted),l(5),a("ngForOf",e.courses),l(),a("ngIf",e.formSubmitted),l(5),a("ngForOf",e.year_levels),l(),a("ngIf",e.formSubmitted),l(15),a("ngIf",!e.student_email),l(2),C(" ",e.signUpForm.value==null||e.signUpForm.value.cor_url==null?null:e.signUpForm.value.cor_url.name," "),l(4),a("ngClass",y(18,j,e.signUpForm.value.photo_url)),l(),a("icon",e.faArrowUpFromBracket),l(),C(" ",e.signUpForm.value.photo_url?"Change":"Upload"," File 2x2 Picture "),l(2),C(" ",e.signUpForm.value==null||e.signUpForm.value.photo_url==null?null:e.signUpForm.value.photo_url.name," "),l(4),a("ngClass",y(20,j,e.signUpForm.value.grade_url)),l(),a("icon",e.faArrowUpFromBracket),l(),C(" ",e.signUpForm.value.grade_url?"Change":"Upload"," Report of Grade "),l(2),C(" ",e.signUpForm.value==null||e.signUpForm.value.grade_url==null?null:e.signUpForm.value.grade_url.name," "),l(2),h(e.file_err_message),l(2),a("disabled",!e.signUpForm.valid)}}function pt(t,s){if(t&1&&(n(0,"option",85),m(1),i()),t&2){let e=s.$implicit;a("value",e.id),l(),h(e.desc)}}function ct(t,s){if(t&1&&c(0,"app-error-label",31),t&2){let e=p(4);a("childForm",e.signUpForm)("childFormName","average_monthly_income")}}function _t(t,s){if(t&1&&(n(0,"div",132),m(1),i()),t&2){let e=p(4);a("ngClass",$(2,ke,e.sucess_form,!e.sucess_form)),l(),C(" ",e.submit_message," ")}}function dt(t,s){t&1&&(n(0,"a",133),m(1,"Back to landing page"),i())}function ut(t,s){if(t&1&&c(0,"fa-icon",45),t&2){let e=p(5);a("icon",e.faCircleNotch)}}function ft(t,s){if(t&1){let e=v();n(0,"button",107),f("click",function(){g(e);let r=p(4);return x(r.onSubmit())}),_(1,ut,1,1,"fa-icon",39),m(2," Submit "),i()}if(t&2){let e=p(4);a("disabled",e.is_saving)("disabled",!e.signUpForm.valid),l(),a("ngIf",e.is_saving)}}function gt(t,s){if(t&1&&(n(0,"div",50)(1,"div",108),c(2,"input",109),n(3,"label",110),m(4,"One or both parents is an overseas filipino worker (OFW)"),i()(),n(5,"fieldset",111)(6,"legend",112),m(7,"Father's Information"),i(),n(8,"div",113)(9,"div")(10,"label",114),m(11,"Name of Father"),i(),c(12,"input",115),i(),n(13,"div")(14,"label",116),m(15,"Occupation"),i(),c(16,"input",117),i(),n(17,"div")(18,"label",118),m(19,"Company"),i(),c(20,"input",119),i()()(),n(21,"fieldset",111)(22,"legend",112),m(23,"Mother's Information"),i(),n(24,"div",113)(25,"div")(26,"label",120),m(27,"Name of Mother"),i(),c(28,"input",121),i(),n(29,"div")(30,"label",122),m(31,"Occupation"),i(),c(32,"input",123),i(),n(33,"div")(34,"label",124),m(35,"Company"),i(),c(36,"input",125),i()()(),n(37,"div",126)(38,"label",127),m(39,"Average Monthly Income"),i(),n(40,"select",128),_(41,pt,2,2,"option",62),i(),_(42,ct,1,2,"app-error-label",26),i(),_(43,_t,2,5,"div",129),n(44,"div",106),_(45,dt,2,0,"a",130)(46,ft,3,3,"button",131),i()()),t&2){let e=p(3);l(41),a("ngForOf",e.incomes),l(),a("ngIf",e.formSubmitted),l(),a("ngIf",e.submit_message),l(2),a("ngIf",e.signUpForm.disabled),l(),a("ngIf",e.signUpForm.enabled)}}function xt(t,s){if(t&1){let e=v();n(0,"div",17)(1,"div",19)(2,"div",46)(3,"button",47),f("click",function(){g(e);let r=p(2);return x(r.navigatePage(1))}),m(4," Part 1 "),i(),n(5,"button",47),f("click",function(){g(e);let r=p(2);return x(r.navigatePage(2))}),m(6," Part 2 "),i(),n(7,"button",47),f("click",function(){g(e);let r=p(2);return x(r.navigatePage(3))}),m(8," Part 3 "),i()(),_(9,tt,73,21,"div",48)(10,st,57,22,"div",49)(11,gt,47,5,"div",50),i()()}if(t&2){let e,o=p(2);l(3),I(y(10,A,+o.page==1)),a("disabled",!o.signUpForm.valid&&o.page<2),l(2),I(y(12,A,+o.page==2)),a("disabled",!o.signUpForm.valid&&o.page<3),l(2),I(y(14,A,+o.page==3)),a("disabled",!o.signUpForm.valid&&o.page===1),l(2),E((e=o.page)===1?9:e===2?10:e===3?11:-1)}}function ht(t,s){t&1&&(n(0,"div",16)(1,"div",134)(2,"div",19)(3,"div",135)(4,"div",136),m(5," Reviewing your Account "),i(),n(6,"div",137),m(7," Please wait for 1-2 working days for us to review and activate your account. Expect a message that will be sent to your device through SMS and Email for updates. Thank you! "),i(),n(8,"div",138)(9,"a",139)(10,"span",140),m(11,"Back to Home"),i()()()()()()())}function Ct(t,s){if(t&1&&(n(0,"form",15),_(1,Be,47,11,"div",16)(2,xt,12,16,"div",17)(3,ht,12,0,"div",16),i()),t&2){let e=p();a("formGroup",e.signUpForm),l(),E(e.page===0?1:e.page>=1&&e.page<=3?2:3)}}function bt(t,s){if(t&1&&(n(0,"div",141)(1,"div",142),c(2,"fa-icon",143),i(),n(3,"div",142),m(4," Loading libraries... "),i()()),t&2){let e=p();l(2),a("icon",e.faCircleNotch)}}function vt(t,s){if(t&1){let e=v();n(0,"app-terms-of-use",144),f("toggleModal",function(){g(e);let r=p();return x(r.toggleModal("terms-of-use"))}),i()}}function yt(t,s){if(t&1){let e=v();n(0,"app-user-agreement",144),f("toggleModal",function(){g(e);let r=p();return x(r.toggleModal("user-agreement"))}),i()}}var ve=(()=>{class t{resendCode(){}toggleOTPPage(){this.showOTPPage=!this.showOTPPage}navigatePage(e){e>=1&&e<=3?!this.email_valid&&e===1?(console.log("test"),this.checkEmail(e)):(e===1&&this.loadLibraries(),this.signUpForm.valid?(this.formSubmitted=!1,this.page=e,this.toggleRequired(e)):this.formSubmitted=!0):this.page=e}checkEmail(e){this.checking_email=!0,this.http.checkEmail({params:{email:this.signUpForm.value.email}}).subscribe({next:o=>{let r=this.signUpForm.value.email.split("@");this.toggleRequired(e),this.student_email=this.emails_domain.includes(r[1]),this.checking_email=!1,this.loadLibraries(),this.page=1},error:o=>{console.log(o),console.log(this.signUpForm),this.email_err=o.error.message,this.checking_email=!1}})}onSubmit(){this.signUpForm.patchValue({ofw_flag:this.signUpForm.value.ofw_flag?1:0,scholar_flag:this.signUpForm.value.scholar_flag?1:0,shiftee_flag:this.signUpForm.value.shiftee_flag?1:0,irregular_flag:this.signUpForm.value.irregular_flag?1:0});let e=new FormData;Object.keys(this.signUpForm.controls).forEach(o=>{let r=this.signUpForm.get(o);r?.value instanceof File?e.append(o,r.value):r&&e.append(o,r.value??"")}),this.is_saving=!0,this.http.register(e).subscribe({next:o=>{this.sucess_form=!0,this.signUpForm.disable(),this.submit_message=o.message,this.is_saving=!1},error:o=>{this.submit_message=o.error.message,this.is_saving=!1}})}toggleRequired(e){let o=["first_name","last_name","contact_number","gender","birthdate","province_code","municipality_code","barangay_code","address","place_of_birth"],r=["lib_school_id","course_code","year_level","photo_url","grade_url"],u=["average_monthly_income"];switch(e){case 1:this.clearValidator(r),this.clearValidator(u),this.addValidator(o);break;case 2:this.clearValidator(u),this.addValidator(r);break;case 3:this.addValidator(u);break;default:break}}get f(){return this.signUpForm.controls}addValidator(e){e.forEach(o=>{o==="contact_number"?this.signUpForm.get(o)?.setValidators([b.required,b.minLength(11),b.maxLength(11)]):this.signUpForm.get(o)?.setValidators([b.required]),this.signUpForm.get(o)?.updateValueAndValidity()})}clearValidator(e){e.forEach(o=>{this.signUpForm.get(o)?.clearValidators(),this.signUpForm.get(o)?.updateValueAndValidity()})}loadLibraries(){if(!this.suffixes&&!this.provinces&&!this.schools&&!this.courses&&!this.year_levels&&!this.incomes){this.loading_libraries=!0;let e=this.http.get("libraries/suffix-names"),o=this.http.get("psgc/provinces",{params:{per_page:"all"}}),r=this.http.get("libraries/school",{params:{per_page:"all"}}),u=this.http.get("libraries/academic-programs",{params:{per_page:"all"}}),S=this.http.get("libraries/year-level",{params:{per_page:"all"}}),we=this.http.get("libraries/monthly-income",{params:{per_page:"all"}});D([e,o,r,u,S,we]).subscribe({next:([M,Fe,Ee,Pe,Ue,Te])=>{this.suffixes=M.data,this.provinces=Fe.data,this.schools=Ee.data,this.courses=Pe.data,this.year_levels=Ue.data,this.incomes=Te.data,this.loading_libraries=!1},error:M=>console.log(M)})}}handleKeyPress(e,o){e.key==="Enter"&&o.click()}getDemog(e,o,r){e==="psgc/provinces"&&(this.signUpForm.patchValue({municipality_code:null,barangay_code:null}),this.municipalities=null,this.barangays=null),this.http.get(e+"/"+o,{params:{include:r}}).subscribe({next:u=>{this[r]=u.data[r]},error:u=>console.log(u)})}togglePassword(){this.isInputPass=!this.isInputPass}onFileSelected(e,o){this.file_err_message=null;let r=e.target.files?.[0];r&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(r.type)?this.signUpForm.patchValue({[o]:r}):(this.file_err_message="Invalid file type. Only PDF, DOC, DOCX, JPG, and PNG files are allowed.",this.signUpForm.patchValue({[o]:null})),console.log(this.signUpForm.value)}createForm(){this.signUpForm=this.formBuilder.nonNullable.group({id:[null],first_name:[null],middle_name:[null],last_name:[null],suffix_name:["NA"],contact_number:[null],email:[null,[b.required,b.email]],password:[null,[b.pattern("^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[#?!@$%^&*\\-_]).{6,}$")]],password_confirmation:[null,[b.required,b.minLength(6)]],gender:[null],birthdate:[null],province_code:["0306900000"],municipality_code:[null],barangay_code:[null],address:[null],scholar_flag:[!1],shiftee_flag:[!1],irregular_flag:[!1],place_of_birth:[null],lib_school_id:[null],lib_education_level_id:[3],lib_year_level_id:[null],lib_academic_program_id:[null],ofw_flag:[!1],fathers_name:[null],fathers_occupation:[null],fathers_company:[null],mothers_name:[null],mothers_occupation:[null],mothers_company:[null],average_monthly_income:[null],cor_url:[null],photo_url:[null],grade_url:[null]}),this.getDemog("psgc/provinces",this.signUpForm.value.province_code,"municipalities"),this.show_form=!0}closeSignUp(){this.closeSignUpPage.emit()}toggleModal(e){this.modals[e]=!this.modals[e]}constructor(e,o,r){this.formBuilder=e,this.http=o,this.cdRef=r,this.closeSignUpPage=new B,this.faArrowUpFromBracket=_e,this.faCircleNotch=pe,this.faEye=de,this.faEyeSlash=ce,this.modals=[],this.page=0,this.signUpForm=Ce(),this.showOTPPage=!1,this.formSubmitted=!1,this.emails_domain=["student.tsu.edu.ph","tarlac.sti.edu.ph","cldhei.edu.ph","pwutarlac.edu.ph"],this.email_valid=!1,this.checking_email=!1,this.student_email=!1,this.is_saving=!1,this.sucess_form=!1,this.loading_libraries=!1,this.isInputPass=!0,this.show_form=!1}ngOnInit(){this.createForm()}ngAfterViewInit(){this.show_form&&this.emailInput&&(this.cdRef.detectChanges(),this.emailInput.nativeElement.focus())}static{this.\u0275fac=function(o){return new(o||t)(F(me),F(xe),F(H))}}static{this.\u0275cmp=U({type:t,selectors:[["app-signup-page"]],viewQuery:function(o,r){if(o&1&&L(Ie,5),o&2){let u;G(u=q())&&(r.emailInput=u.first)}},inputs:{withStudentEmail:"withStudentEmail"},outputs:{closeSignUpPage:"closeSignUpPage"},decls:11,vars:5,consts:[["emailInput",""],["proceedBtn",""],["filePhoto",""],["fileRog",""],["fileCOR",""],[1,"h-fit","w-full","md:h-full","justify-center","items-center","flex","flex-col"],[1,"flex","py-3","px-5","w-4/5"],[1,"flex","flex-col","md:flex-row","md:justify-between","w-full"],[1,"flex"],["src","../assets/img/resourcehub-log.png",1,"h-11"],[1,"text-blue-600","font-normal","mt-3","ml-5"],["class","text-sm mt-3",4,"ngIf"],[3,"formGroup",4,"ngIf"],["class","flex flex-col justify-center h-96",4,"ngIf"],[1,"text-sm","mt-3"],[3,"formGroup"],[1,"relative","p-4","w-full","max-w-xl","h-auto"],[1,"relative","p-4","w-full","max-w-5xl"],[1,"bg-white","h-auto","p-5","md:p-10","rounded-xl","border","border-slate-200","shadow-2xl"],[1,"flex","flex-col"],[1,"flex","justify-between","text-blue-600","font-semibold"],["tabindex","0","href","/#"],[1,"flex","flex-col","p-3","md:p-10"],[1,"mb-5"],["id","email",1,"text-xs","text-gray-400"],["id","email","formControlName","email","type","text","placeholder","Enter your email",1,"input-txt","-mb-2",3,"keypress"],[3,"childForm","childFormName",4,"ngIf"],["for","password",1,"text-xs","text-gray-400"],["id","password","formControlName","password","placeholder","Enter your Password",1,"input-txt","rounded-r-none","border-r-0",3,"keypress","type"],["type","button",1,"input-txt","w-12","rounded-l-none","border-l-0",3,"click"],[3,"icon"],[3,"childForm","childFormName"],["for","password_confirmation",1,"text-xs","text-gray-400"],["id","password_confirmation","formControlName","password_confirmation","placeholder","Confirm your Password",1,"input-txt",3,"keypress","type"],["class","error-label",4,"ngIf"],[1,"text-sm","italic","text-red-600","pt-2"],[1,"flex","flex-col","md:flex-row","justify-center"],[1,"flex","flex-col","w-full","md:w-3/5"],[1,"btn-blue-nr","mt-5","h-14",3,"click","disabled"],["animation","spin","class","mr-1",3,"icon",4,"ngIf"],[1,"text-center","text-xs","mt-1"],[1,"text-sky-400","hover:cursor-pointer",3,"click"],[1,"hover:cursor-pointer","ml-3","mt-5","text-xs","text-center"],["href","#/login",1,"text-blue-600","hover:cursor-pointer"],[1,"error-label"],["animation","spin",1,"mr-1",3,"icon"],[1,"grid","grid-cols-3","font-semibold","text-center","text-gray-500"],[1,"border-b-2","hover:cursor-pointer",3,"click","disabled"],[1,"flex","flex-col","md:grid","md:grid-cols-3","md:gap-4","p-3","md:p-10"],[1,"flex","flex-col","w-full"],[1,"md:grid","md:grid-cols-2","md:gap-4"],["for","first_name",1,"text-xs","text-gray-400"],["id","first_name","formControlName","first_name","type","text",1,"input-txt","-mb-2"],["for","middle_name",1,"text-xs","text-gray-400"],["id","middle_name","formControlName","middle_name","type","text",1,"input-txt","-mb-2"],[1,"grid","grid-cols-6"],[1,"col-span-4"],["for","last_name",1,"text-xs","text-gray-400"],["id","last_name","formControlName","last_name","type","text",1,"input-txt","-mb-2"],[1,"col-span-2"],["for","suffix_name",1,"text-xs","text-gray-400"],["id","suffix_name","formControlName","suffix_name",1,"input-txt","-mb-2"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-2"],["for","birthdate",1,"text-xs","text-gray-400"],["id","birthdate","formControlName","birthdate","type","date","placeholder","mm/dd/yyyy",1,"input-txt","text-sm","placeholder:text-gray-400"],["for","gender",1,"text-xs","text-gray-400"],["id","gender","formControlName","gender",1,"input-txt","-mb-2"],["value","M"],["value","F"],["for","contact_number",1,"text-xs","text-gray-400"],["id","contact_number","mask","(9999) 999-9999","formControlName","contact_number","type","text",1,"input-txt","-mb-2",3,"showMaskTyped"],["for","province_code",1,"text-xs","text-gray-400"],["id","province_code","formControlName","province_code",1,"input-txt","-mb-2",3,"change"],[3,"ngClass"],["for","municipality_code",1,"text-xs","text-gray-400"],["id","municipality_code","formControlName","municipality_code",1,"input-txt","-mb-2",3,"change"],["for","barangay_code",1,"text-xs","text-gray-400"],["id","barangay_code","formControlName","barangay_code",1,"input-txt","-mb-2"],["for","address",1,"text-xs","text-gray-400"],["id","address","formControlName","address","type","text",1,"input-txt","-mb-2"],["for","place_of_birth",1,"text-xs","text-gray-400"],["id","place_of_birth","formControlName","place_of_birth","type","text",1,"input-txt","-mb-2"],[1,"md:col-span-3","flex","justify-end","mt-5"],[1,"btn-blue",3,"click"],[3,"value"],["for","lib_school_id",1,"text-xs","text-gray-400"],["id","lib_school_id","formControlName","lib_school_id",1,"input-txt","-mb-2"],["for","lib_academic_program_id",1,"text-xs","text-gray-400"],["id","lib_academic_program_id","formControlName","lib_academic_program_id",1,"input-txt","-mb-2"],["for","lib_year_level_id",1,"text-xs","text-gray-400"],["id","lib_year_level_id","formControlName","lib_year_level_id",1,"input-txt","-mb-2"],[1,"grid","grid-col-3","gap-x-4","mt-3"],["id","scholar_flag","formControlName","scholar_flag","type","checkbox",1,"rounded-md","text-lg","mr-1"],["for","scholar_flag"],["id","shiftee_flag","formControlName","shiftee_flag","type","checkbox",1,"rounded-md","text-lg","mr-1"],["for","shiftee_flag"],["id","irregular_flag","formControlName","irregular_flag","type","checkbox",1,"rounded-md","text-lg","mr-1"],["for","irregular_flag"],[1,"grid","grid-cols-2","gap-x-4","mt-3","w-full"],[4,"ngIf"],[1,"font-semibold","text-sm","mt-2"],["type","file","accept",".jpg,.jpeg,.png",1,"hidden",3,"change"],[1,"btn-blue-nr","text-white","w-full","text-sm","mt-2",3,"click","ngClass"],["type","file","accept",".pdf,.doc,.docx",1,"hidden",3,"change"],[1,"italic","text-red-500","text-xs"],[1,"md:col-span-2","flex","justify-end","mt-5"],[1,"btn-blue",3,"click","disabled"],[1,"col-span-2","flex","justify-center","mt-2"],["id","ofw_flag","formControlName","ofw_flag","type","checkbox",1,"rounded-md","text-lg","mr-1"],["for","ofw_flag"],[1,"border","border-gray-400"],[1,"ml-3"],[1,"flex","flex-col","m-3","px-1"],["for","fathers_name",1,"text-xs"],["id","fathers_name","formControlName","fathers_name","type","text",1,"input-txt","-mb-2"],["for","fathers_occupation",1,"text-xs"],["id","fathers_occupation","formControlName","fathers_occupation","type","text",1,"input-txt","-mb-2"],["for","fathers_company",1,"text-xs"],["id","fathers_company","formControlName","fathers_company","type","text",1,"input-txt","-mb-2"],["for","mothers_name",1,"text-xs"],["id","mothers_name","formControlName","mothers_name","type","text",1,"input-txt","-mb-2"],["for","mothers_occupation",1,"text-xs"],["id","mothers_occupation","formControlName","mothers_occupation","type","text",1,"input-txt","-mb-2"],["for","mothers_company",1,"text-xs"],["id","mothers_company","formControlName","mothers_company","type","text",1,"input-txt","-mb-2"],[1,"md:col-span-2"],["for","average_monthly_income",1,"text-xs"],["id","average_monthly_income","formControlName","average_monthly_income","type","text",1,"input-txt","-mb-2"],["class","flex italic text-sm ",3,"ngClass",4,"ngIf"],["class","btn-blue","href","/#",4,"ngIf"],["class","btn-blue",3,"disabled","click",4,"ngIf"],[1,"flex","italic","text-sm",3,"ngClass"],["href","/#",1,"btn-blue"],[1,"bg-white","h-auto","p-5","md:p-10","rounded-xl","shadow-2xl"],[1,"flex","flex-col","p-3","md:p-10","text-center"],[1,"text-3xl","font-semibold"],[1,"text-justify","mt-5"],[1,"flex","flex-col","w-full","justify-center"],["href","/",1,"btn-blue-nr","mt-5","h-12"],[1,"pt-2"],[1,"flex","flex-col","justify-center","h-96"],[1,"flex","justify-center"],["animation","spin",1,"text-blue-600",3,"icon"],[3,"toggleModal"]],template:function(o,r){o&1&&(n(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),c(4,"img",9),_(5,Oe,4,1,"span",10),i(),_(6,Ae,2,0,"div",11),i()(),_(7,Ct,4,2,"form",12)(8,bt,5,1,"div",13),i(),_(9,vt,1,0,"app-terms-of-use")(10,yt,1,0,"app-user-agreement")),o&2&&(l(5),E(r.page!==4?5:-1),l(),a("ngIf",r.page>=1&&r.page<=3),l(),a("ngIf",r.show_form&&!r.loading_libraries),l(),a("ngIf",!r.show_form||r.loading_libraries),l(),E(r.modals["terms-of-use"]?9:r.modals["user-agreement"]?10:-1))},dependencies:[K,Q,J,fe,V,N,ie,ae,le,X,W,re,Z,ee,ne,oe,k,he]})}}return t})();var ye=(()=>{class t{openSignUpPage(e){this.showSignupPage=!0,this.withStudentEmail=e}closeSignUpPage(){this.showSignupPage=!1}navigateTo(e){this.router.navigate([e])}constructor(e){this.router=e,this.faArrowLeft=ue,this.showSignupPage=!1,this.withStudentEmail=!1}static{this.\u0275fac=function(o){return new(o||t)(F(z))}}static{this.\u0275cmp=U({type:t,selectors:[["app-signup"]],decls:1,vars:1,consts:[[3,"closeSignUpPage","withStudentEmail"]],template:function(o,r){o&1&&(n(0,"app-signup-page",0),f("closeSignUpPage",function(){return r.closeSignUpPage()}),i()),o&2&&a("withStudentEmail",r.withStudentEmail)},dependencies:[ve]})}}return t})();var wt=[{path:"",component:ye}],Se=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=P({imports:[O.forChild(wt),O]})}}return t})();var li=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=P({imports:[Y,Se,ge,V,N,se,k]})}}return t})();export{li as SignupModule};
